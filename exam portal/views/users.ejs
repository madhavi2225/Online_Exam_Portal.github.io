<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

  <title>Sign Up</title>
  <style>
    * {
      box-sizing: border-box;
    }

    *:focus {
      outline: none;
    }

    body {
      font-family: Arial;
      /* background-image: linear-gradient(to right, #42275a, #734b6d); */
      /* background-color: #ECF0F1; */
      padding: 50px;
    }

    .login {
      margin: 8px auto;
      width: 350px;
      box-shadow: 13px 13px 20px #55595d, -13px -13px 20px #fff;
      border-radius: 10px;
      /* background-color: blue; */
    }

    .login-screen {
      /* background-color: #FFF; */
      padding: 20px;
      border-radius: 5px;
      background-color: #f2f2f2;
    }

    select {
      width: 97%;
      padding: 12px;
      text-align: center;
      background-color: #ECF0F1;
      border: 2px solid transparent;
      border-radius: 3px;
      cursor: pointer;
    }

    select:focus {
      border: 2px solid #696a86;
      box-shadow: none;
    }

    .app-title {
      text-align: center;
      color: #777;
    }

    .login-form {
      text-align: center;
    }

    .control-group {
      margin-bottom: 10px;
    }

    input {
      text-align: center;
      background-color: #ECF0F1;
      border: 2px solid transparent;
      border-radius: 3px;
      font-size: 16px;
      font-weight: 200;
      padding: 10px 0;
      width: 300px;
      transition: border .5s;
    }

    input:focus {
      border: 2px solid #696a86;
      box-shadow: none;
    }

    .btn {
      border: 2px solid transparent;
      background: #696a86;
      color: #ffffff;
      font-size: 16px;
      text-transform: uppercase;
      line-height: 25px;
      padding: 10px 0;
      text-decoration: none;
      text-shadow: none;
      border-radius: 3px;
      box-shadow: none;
      transition: 0.25s;
      display: block;
      width: 300px;
      margin: 0 auto;
    }

    .btn:hover {
      background-color: rgb(112, 54, 112);
    }

    .login-link {
      font-size: 16px;
      text-decoration: none;
      color: blue;
      display: block;
      margin-top: 12px;
    }
  </style>
<script>
  $(() => {

    // var flag = 0;
    // Validate name
    $('#errorname').css("color", "red")
    //  let nameError = true;
    $('#name').keyup(function () {
      validatename();
    });

    function validatename() {
      let nameValue = $('#name').val();
      if (nameValue.length == '') {
        $('#errorname').show();
        $('#errorname').html("enter your name");
        return  0;
        // nameError = false;
        // return false;
      } else if (!nameValue.match(/^[A-Z a-z]+$/)) {

        $('#errorname').show();
        $('#errorname').html(" Name doesnot contain numbers and Special char!!");
        return  0;
      }
      else if ((nameValue.length < 2) ||
        (nameValue.length > 20)) {
        $('#errorname').show();
        $('#errorname').html("name must have atleast 2 letters and maximum 20 letters");
        return  0;
        // nameError = false;
        // return false;
      } else {
        $('#errorname').hide();
        return  1;
        console.log(flag);
      }
    }

    // Validate Email
    $('#erroremail').css("color", "red")

    //let emailError = true;
    $('#email').keyup(function () {
      validateemail();
    });
    // ([_\-\.0-9a-zA-Z]+)
    function validateemail() {
      let emailValue = $('#email').val();
      let regex = /^([\-\.0-9a-z]+)@([\-\.0-9a-z]+)\.([a-z]){2,7}$/;
      // let regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
      if (emailValue.length == '') {
        $('#erroremail').show();
        $('#erroremail').html("email is missing");
        return  0;
        // emailError = false;
        // return false;
      } else if (!regex.test(emailValue)) {
        
        $('#erroremail').show();
        $('#erroremail').html("email is wrong");
        return  0;
        // emailError = false;
        // return false;
      } else {
        $('#erroremail').hide();
        return  1;
        console.log(flag);
      }
    }

    // Validate Username
    $('#errorusername').css("color", "red")
    // let usernameError = true;
    $('#username').keyup(function () {
      validateUsername();
    });

    function validateUsername() {
      let usernameValue = $('#username').val();
      if (usernameValue.length == '') {
        $('#errorusername').show();
        $('#errorusername').html("please enter username");
        return  0;
        // usernameError = false;
        // return false;
      } else if (!usernameValue.match(/^[A-Z_0-9a-z]+$/)) {
        $('#errorusername').show();
        $('#errorusername').html(" userName doesnot contain numbers and Special char!!");
        return  0;
      }
      else if ((usernameValue.length < 8) ||  (usernameValue.length > 25)) {
        $('#errorusername').show();
        $('#errorusername').html("length of username minimum 8 and  max 25! ");
        return  0;
        // usernameError = false;
        // return false;
      } else {
        $('#errorusername').hide();
        return  1;
        console.log(flag);
      }
    }


    // Validate Password

    $('#errorpass').css("color", "red")
    //  let passwordError = true;
    $('#password').keyup(function () {
      validatePassword();
    });

    function validatePassword() {
      let passwordValue = $('#password').val();
      if (passwordValue.length == '') {
        $('#errorpass').show();
        $('#errorpass').html("please enter password");
        return  0;
        // passwordError = false;
        // return false;
      } else if (passwordValue.length < 8)  {
        $('#errorpass').show();
        $('#errorpass').html("length of your password Minimum 8!");
        return  0;
        // passwordError = false;
        // return false;
      } else {
        $('#errorpass').hide();
        return  1;
        console.log(flag);
      }
    }

    // Validate Qualification

    $('#errorqualification').css("color", "red")
    // let qualificationError = true;
    $('#qualification').keyup(function () {
      validateQualification();
    });

    function validateQualification() {
      let qualificationValue = $('#qualification').val();
      if (qualificationValue == '/') {
        $('#errorqualification').show();
        $('#errorqualification').html("please select qualification");
        return  0;
        // qualificationError = false;
        // return false;
      } else {
        $('#errorqualification').hide();
        return  1;
        console.log(flag);
      }

    }

    $("button").click(() => {
      let flag=0;
      flag= flag + validatename();
      flag= flag + validateemail();
      flag= flag + validateUsername();
      flag= flag + validatePassword();
      flag= flag + validateQualification();

      if(flag == 5){
        console.log(flag)
        return true;
      }
      else{
        console.log(flag);
        return false;

      }
      // return;
      //  if ((nameError == true) && (usernameError == true) && (passwordError == true) && (emailError == true) && (qualificationError == true)) {
      //       return true;

      //   } else {
      //       return false;
      //   }
      // return (nameError == true) && (usernameError == true) && (passwordError == true) && (emailError == true) && (qualificationError == true) ? true : false;
    });
  });
</script>
</head>

<body>
  <form method="post" action="/users/create">
    <div class="login " >
      <div class="login-screen" >
        <div class="app-title">
          <h1>Sign Up</h1>
        </div><br>
        <p class="login-box-msg" style="font-size: large;" align="middle">Register Yourself...</p>
        <div class="login-form">
          <div class="control-group mt-3">
            <input type="text" class="login-field" value="" placeholder="Full Name" name="name" id="name">
          </div>
          <h6 id="errorname"></h6>
          <div class="control-group mt-3">
            <input type="text" class="login-field" value="" placeholder="E-mail" name="email" id="email">
          </div>
          <h6 id="erroremail"></h6>
          <div class="control-group mt-3">
            <input type="text" class="login-field" value="" placeholder="Username" name="username" id="username">
          </div>
          <h6 id="errorusername"></h6>
          <div class="control-group mt-3">
            <input type="password" class="login-field" value="" placeholder="Password" name="password" id="password">
          </div>
          <h6 id="errorpass"></h6>
          <!-- <div class="control-group mt-3">
            <input type="text" class="login-field" value="" placeholder="Qualification" name="qualification"
              id="qualification">
          </div> -->
          <div class="control-group mt-3">
            <select name="qualification" id="qualification">
              <option value="/">Highest Qualification</option>
              <option value="10th">10th</option>
              <option value="12th">12th</option>
              <option value="btech">B.Tech</option>
            </select>
          </div>
          <h6 id="errorqualification"></h6>
          <button type="submit" class="btn tbn-primary btn-large btn-block mt-3" value="Sign Up">Signup</button>
          <!-- <a class="btn btn-primary btn-large btn-block mt-3" href="#">signup</a><br> -->
          <p>Already have an Account ?<a class="login-link" href="/login">Login</a></p>
        </div>
      </div>
    </div>
  </form>
  
</body>

</html>