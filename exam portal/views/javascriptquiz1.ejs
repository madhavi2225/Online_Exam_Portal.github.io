<!DOCTYPE html>


<html class="no-js">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Online Quiz</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Free HTML5 Template by FREEHTML5.CO" />
    <meta name="keywords" content="free html5, free template, free bootstrap, html5, css3, mobile first, responsive" />
    <meta name="author" content="FREEHTML5.CO" />



    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <link rel="shortcut icon" href="favicon.ico">

    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700,300' rel='stylesheet' type='text/css'>

    <!-- Latest compiled and minified CSS -->
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"> -->

    <!-- <link rel="stylesheet" href="css/style.css"> -->

    <!-- quiz style -->
    <!-- <link rel="stylesheet" href="css/quiz.css"> -->


    <!-- Modernizr JS -->
    <!-- <script src="assets/vendor/jquery/jquery-3.3.1.min.js"></script> -->
    <!-- <script src="js/modernizr-2.6.2.min.js"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- FOR IE9 below -->
    <!--[if lt IE 9]>
	<script src="js/respond.min.js"></script>
	<![endif]-->
    <style>
        .close-modal {
            display: none !important;
        }

        .pagination span {
            color: black;
            float: left;
            align-items: center;
            background-color: white;
            padding: 8px 16px;
            text-decoration: none;
            transition: background-color .3s;
        }

        .main {
            height: 100%;
            overflow: scroll;
        }

        .pagination span.active {
            background-color: dodgerblue;
            color: white;
        }

        .container {
            margin: 30px auto;
            /* background: linear-gradient(to right, #d9ecf8, #f0c7ed, #a0b1f0); */
            padding: 20px 15px;
            /* text-align:center; */
        }

        .pagination span:hover:not(.active) {
            background-color: #ddd;
        }
    </style>
    <style>
        body {
            margin: 0;
            background-color: #FFF;
            color: #42275a;
        }

        .header {
            padding: 10px 16px;
            background: #f2f2f2;
            color: #5d2d86;
            overflow: hidden;
        }

        .top-container {
            background-color: #f1f1f1;
            padding: 30px;
            margin-left: 900px;
        }

        .content {
            padding: 16px;
        }

        .sticky {
            position: fixed;
            top: 0;
            width: 100%;
        }

        .sticky+.content {
            padding-top: 102px;
        }

        .footer {
            position: fixed;
            left: 0;
            bottom: 7px;
            padding-top: 10px;
            width: 100%;
            height: 55px;
            background-color: #f2f2f2;
            color: white;
            text-align: center;
        }

        #btn {
            border: 2px solid transparent;
            background: #696a86;
            color: #ffffff;
        }

        * {
            background-color: white;
        }

        #btn:hover {
            background-color: rgb(112, 54, 112);
        }
    </style>

</head>

<body>

    <div class="modal" id="myModal">
        <div class="modal-dialog">
            <div class="modal-content">
                <!-- Add User Form Start-->
                <!------ <div class="col-lg-12 grid-margin stretch-card"> --------->
                <div class="card">
                    <div class="card-body">
                        <!-- <button type="button" class="btn btn-danger" style="float: right;" id="close" data-dismiss="modal">Ã—</button><br> -->
                        <h4 style="margin: 50px;">If you want to start exam click on start</h4>
                        <button class="btn btn-primary" id="start" style="margin: 25px;">Start</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="front" class="main">

        <div id="fh5co-wrapper">
            <div id="fh5co-page">
                <div class="container myclass" id="screen"
                    style="display: none;background-color: linear-gradient(to right, #d9ecf8,#f0c7ed ,#a0b1f0);">
                    <!-- <div class="col-lg-12">
                        <p class="h1" style="text-align: end; justify-content: center; color:  linear-gradient(to right, #d9ecf8,#f0c7ed ,#a0b1f0); ">QUIZ</p>
                    </div> -->
                    <!-- <div class="col-lg-12">
                        <div class="h1" id="count" style="text-align: end; justify-content: center; color:  linear-gradient(to right, #d9ecf8,#f0c7ed ,#a0b1f0); ">
                        </div>
                    </div> -->
                    <form id="exitForm" name="exitForm" action="/tq"  onsubmit="lkj()" method="post">
                        <div class="header" id="myHeader">
                            <h1>
                                <center>JavaScript Quiz</center>
                            </h1>
                            <div class="col-lg-6">
                                <div class="h1" id="count" style="color: #db4118; "></div>
                            </div>
                        </div>

                        <table id="mytable" style="padding-left: 200px;">
                            <!-- <h1 style="text-align: center;">HTML QUIZ</h1> -->
                            <tr></tr>
                            <% for(let i=0; i<userData.length; i++){ let id=userData[i].id; let que=userData[i].q; let
                                opt1=userData[i].a; let opt2=userData[i].b; let opt3=userData[i].c; let
                                opt4=userData[i].d; %>
                                <tr class="jumbotron">
                                    <td style="background-color:while;">
                                        <div class="col-12" class="box">
                                            <div style="margin-bottom: 30px;" class="box fifth w-100">
                                                <h3 class="fw-bold mt-5"
                                                    style="color:  linear-gradient(to right, #d9ecf8,#f0c7ed ,#a0b1f0);">
                                                    <%= i+1%>
                                                        &nbsp;
                                                        <%= que%>
                                                </h3>

                                                <div class="row" style="color: rgb(0, 0, 0);">
                                                    <div class="col-md-6">
                                                        <label for="five%= id%>">
                                                            <div class="course">A
                                                                <input type="radio" name="que<%= id%>" value="a"
                                                                    id="five"
                                                                    style="height:25px; width:25px; vertical-align: middle;" />
                                                                <span class="circle"></span>
                                                                <span class="subject">
                                                                    <%= opt1%>
                                                                </span>
                                                            </div>
                                                        </label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label for="six%= id%>">
                                                            <div class="course">B
                                                                <input type="radio" name="que<%= id%>" value="b"
                                                                    id="six"
                                                                    style="height:25px; width:25px; vertical-align: middle;" />
                                                                <span class="circle"></span>
                                                                <span class="subject">
                                                                    <%= opt2%>
                                                                </span>
                                                            </div>
                                                        </label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label for="seven%= id%>">
                                                            <div class="course">C
                                                                <input type="radio" name="que<%= id%>" id="seven"
                                                                    value="c"
                                                                    style="height:25px; width:25px; vertical-align: middle;" />
                                                                <span class="circle"></span> <span class="subject">
                                                                    <%= opt3%>
                                                                </span>
                                                            </div>
                                                        </label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label for="eight%= id%>">
                                                            <div class="course">D
                                                                <input type="radio" name="que<%=id%>" id="eight"
                                                                    value="d"
                                                                    style="height:25px; width:25px; vertical-align: middle;" />
                                                                <span class="circle"></span>
                                                                <span class="subject">
                                                                    <%= opt4%>
                                                                </span>
                                                            </div>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                <% } %>
                        </table>
                        <div class="row">
                            <div class="col-md-3">
                                <div class="pagination-container">

                                    <button class="btn btn-warning " type="submit" id="exit"
                                        style="border-radius: 10px;font-size: 30px;float:right;color:red;">Exit</button>

                                    <nav aria-label="Page navigation example">
                                        <ul class="pagination pagination-lg" id="pgnext">
                                            <li data-page="next" id="prev" onclick="pgnext()">
                                                <span class="btn  btn-info "
                                                    style="float: left;font-weight: bold;margin-right: 100px;">Next ->
                                                </span>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>

                            </div>
                            <div class="col-md-6"></div>
                            <!-- <div class="col-md-3" >
                            <form id="exitForm" name="exitForm" href="/thankyou">
                                <button class="btn btn-warning btn-lg" type="submit" id="exit" style="border-radius: 10px;font-size: 30px;float:left;color:red;">Exit</button>
                            </form>
                        </div> -->
                        </div>
                    </form>

                </div>
            </div>
            <!-- END fh5co-page -->


        </div>
    </div>


    <!-- END fh5co-wrapper -->
    <!-- Remember to include jQuery :) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>

    <!-- jQuery Modal -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />
    <script>
        function lkj() {
            var opt = document.getElementById('five').value;
            console.log(opt);
        }
    </script>
    <script>
        let myTab;
        // myTab = window.open('http://localhost:3000/question' + drdow2 + '?exam=1&Applying_for2=on', "newWin", 'height=' + screen.height,
        //             'width=' + screen.width,
        //             'fullscreen=yes');
        $(document).ready(function () {
            $('#myModal').modal('show');
            let btnClose = document.querySelector('#close');
            btnClose.addEventListener('click', () => {
                window.close()
            });

            window.onkeydown = function (event) {
                if (event.keyCode == 27) {
                    console.log('yeah')
                    if (myTab) myTab.close();
                }
            };


        });
        $('#start').click(() => {
            $('#myModal').modal('hide');
            $('#screen').css('display', 'block')
            var elem = document.getElementById('front');
            if (elem.requestFullscreen) {
                elem.requestFullscreen();
                setTimeout(() => {
                    window.close()
                }, 60000); //1 min is = 60000misec
            }
        })
        // $('#exit').click(() => {
        //     document.getElementById('exitForm').action = '/tq'
        //     return true;
        // })
        // var opa = document.querySelector('input[name="que3"]:value')

        // countdown
        // Set the date we're counting down to
        var countDownDate = new Date().getTime() + 5 * 60 * 1000;

        // Update the count down every 1 second
        var x = setInterval(function () {

            // Get today's date and time
            var now = new Date().getTime();

            // Find the distance between now and the count down date
            var distance = countDownDate - now;

            // Time calculations for hours, minutes and seconds
            var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            var seconds = Math.floor((distance % (1000 * 60)) / 1000);

            // Display the result in the element with id="count"
            document.getElementById("count").innerHTML =
                ` <a style="color:red;font-weight:bold;size:200px">Remaining Time:</a> ${minutes}:${seconds}`

            // hours + ":"+

            // If the count down is finished, write some text
            if (distance < 0) {
                clearInterval(x);
                $('#exitForm').submit();
                // document.getElementById("count").innerHTML = "Time Out";
                // $(location).attr('href', '/tq')
            }
        }, 1000);
    </script>
    <script>
        getPagination('#mytable');

        function getPagination(table) {
            var lastPage = 1;

            $(document)
                .ready(function (evt) {
                    //$('.paginationprev').html('');						// reset pagination

                    lastPage = 1;
                    $('.pagination')
                        .find('li')
                        .slice(1, -1)
                        .remove();
                    var trnum = 0; // reset tr counter
                    var maxRows = 5; // get Max Rows from select option

                    if (maxRows == 5000) {
                        $('.pagination').hide();
                    } else {
                        $('.pagination').show();
                    }

                    var totalRows = $(table + ' tbody tr').length; // numbers of rows
                    $(table + ' tr:gt(0)').each(function () {
                        // each TR in  table and not the header
                        trnum++; // Start Counter
                        if (trnum > maxRows) {
                            // if tr number gt maxRows

                            $(this).hide(); // fade it out
                        }
                        if (trnum <= maxRows) {
                            $(this).show();
                        } // else fade in Important in case if it ..
                    }); //  was fade out to fade it in
                    if (totalRows > maxRows) {
                        // if tr total rows gt max rows option
                        var pagenum = Math.ceil(totalRows / maxRows); // ceil total(rows/maxrows) to get ..
                        //	numbers of pages
                        // end for i
                    } // end if row count > max rows
                    //$('.pagination [data-page="1"]').addClass('active'); // add active class to the first li
                    $('.pagination li').on('click', function (evt) {
                        // on click each page
                        evt.stopImmediatePropagation();
                        evt.preventDefault();
                        var pageNum = $(this).attr('data-page'); // get it's number

                        var maxRows = parseInt(5); // get Max Rows from select option

                        /*if (pageNum == 'prev') {
                            if (lastPage == 1) {
                                return;
                            }
                            pageNum = --lastPage;
                        }*/
                        if (pageNum == 'next') {
                            if (lastPage == $('.pagination li').length - 2) {
                                return;
                            }
                            pageNum = ++lastPage;
                        }

                        lastPage = pageNum;
                        var trIndex = 0; // reset tr counter
                        //$('.pagination li').removeClass('active'); // remove active class from all li
                        $('.pagination [data-page="' + lastPage + '"]').addClass('active'); // add active class to the clicked
                        // $(this).addClass('active');					// add active class to the clicked
                        limitPagging();
                        $(table + ' tr:gt(0)').each(function () {
                            // each tr in table not the header
                            trIndex++; // tr index counter
                            // if tr index gt maxRows*pageNum or lt maxRows*pageNum-maxRows fade if out
                            if (
                                trIndex > maxRows * pageNum ||
                                trIndex <= maxRows * pageNum - maxRows
                            ) {
                                $(this).hide();
                            } else {
                                $(this).show();
                            } //else fade in
                        }); // end of for each tr in table
                    }); // end of on click pagination list
                    limitPagging();
                })
                .val(5)
                .change();

            // end of on select change

            // END OF PAGINATION
        }

        function limitPagging() {
            // alert($('.pagination li').length)
            // console.log($('.pagination li').length);
            if ($('.pagination li').length > 7) {
                if ($('.pagination li.active').attr('data-page') <= 3) {
                    $('.pagination li:gt(5)').hide();
                    $('.pagination li:lt(5)').show();
                    $('.pagination [data-page="next"]').show();
                }
                if ($('.pagination li.active').attr('data-page') > 3) {
                    $('.pagination li:gt(0)').hide();
                    $('.pagination [data-page="next"]').show();
                    for (let i = (parseInt($('.pagination li.active').attr('data-page')) - 2); i <= (parseInt($('.pagination li.active').attr('data-page')) + 2); i++) {
                        $('.pagination [data-page="' + i + '"]').show();

                    }

                }
            }
        }
    </script>
    <script>
        var count = 0;

        function pgnext() {
            // alert();
            count++;
            console.log(count);
            if (count > 3) {
                document.getElementById('prev').style.display = 'none';
            }
            // document.getElementById('exitForm').action = '/submitPost'
            // return true;
        }
    </script>
    <!-- </form> -->
</body>

</html>